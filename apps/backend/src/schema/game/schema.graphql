extend type Query {
  game(id: ID!): SudokuGame
}

extend type Mutation {
  createNewGame: SudokuGame!
  updateCellValue(gameId: ID!, row: Int!, column: Int!, value: Int): Boolean
  updateCellAnnotations(
    gameId: ID!
    row: Int!
    column: Int!
    annotations: SudokuCellAnnotationsInput!
  ): Boolean
}

extend type Subscription {
  onCellValueUpdated(gameId: ID!): CellValueUpdateData
  onCellAnnotationsUpdated(gameId: ID!): CellAnnotationsUpdateData
}

type CellValueUpdateData {
  row: Int!
  column: Int!
  value: Int
  isValid: Boolean
}

type CellAnnotationsUpdateData {
  row: Int!
  column: Int!
  annotations: SudokuCellAnnotations
}

type SudokuGame {
  id: ID!
  difficulty: String!
  board: [SudokuCell]!
}

type SudokuCell {
  row: Int!
  column: Int!
  value: Int
  solution: Int!
  isEditable: Boolean!
  isValid: Boolean
  annotations: SudokuCellAnnotations
}

type SudokuCellAnnotations {
  matrix: [Int!]!
}

input SudokuCellAnnotationsInput {
  matrix: [Int!]!
}
